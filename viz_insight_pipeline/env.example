# FastAPI (viz_insight_pipeline) environment variables
#
# For local dev, you can create a `.env` file (do not commit it).
# In Render, set these in the Service -> Environment tab.

# --- Required ---
GEMINI_API_KEY=replace_me

# Model name passed to Gemini (example values depend on your Gemini access)
GEMINI_MODEL=gemini-2.5-flash

# --- Optional (tuning / limits) ---
LOG_LEVEL=INFO
ROW_LIMIT=5000
MAX_FILE_SIZE_MB=50
ALLOWED_FILE_TYPES=.csv

# Code/LLM limits
CODE_EXECUTION_TIMEOUT=15
MAX_LLM_TOKENS=4096
MAX_CHART_ITEMS=15

# Production stability guardrails (recommended on Render)
MAX_SCHEMA_COLUMNS=40
MAX_SAMPLE_ROWS=3

# Retries (disabled by default to avoid extra cost)
LLM_MAX_RETRIES=0
LLM_JSON_REPAIR_MAX=0

# PDF export (only affects /profile/{id}/pdf)
PDF_ENGINE=auto

# Profile report persistence (Render filesystem is ephemeral)
# - local: stores under runs/profiles (links break after restart/redeploy)
# - cloudinary: uploads HTML to Cloudinary and returns a persistent URL
PROFILE_STORAGE=local

# If PROFILE_STORAGE=cloudinary
CLOUDINARY_CLOUD_NAME=
CLOUDINARY_API_KEY=
CLOUDINARY_API_SECRET=
CLOUDINARY_PROFILE_FOLDER=capstone-profiles


